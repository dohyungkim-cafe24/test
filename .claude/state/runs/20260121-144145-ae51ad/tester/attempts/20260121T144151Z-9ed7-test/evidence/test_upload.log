============================= test session starts ==============================
platform darwin -- Python 3.13.5, pytest-9.0.2, pluggy-1.6.0 -- /private/tmp/test-venv/bin/python
cachedir: .pytest_cache
rootdir: /Users/briankim/Desktop/ai/agi-dev/projects/punch-analytics/backend
configfile: pyproject.toml
plugins: anyio-4.12.1, asyncio-1.3.0
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 22 items

projects/punch-analytics/backend/tests/test_upload.py::TestUploadSchemas::test_valid_upload_request PASSED [  4%]
projects/punch-analytics/backend/tests/test_upload.py::TestUploadSchemas::test_valid_mov_format PASSED [  9%]
projects/punch-analytics/backend/tests/test_upload.py::TestUploadSchemas::test_valid_webm_format PASSED [ 13%]
projects/punch-analytics/backend/tests/test_upload.py::TestUploadSchemas::test_file_size_too_large PASSED [ 18%]
projects/punch-analytics/backend/tests/test_upload.py::TestUploadSchemas::test_file_size_at_limit PASSED [ 22%]
projects/punch-analytics/backend/tests/test_upload.py::TestUploadSchemas::test_duration_too_short PASSED [ 27%]
projects/punch-analytics/backend/tests/test_upload.py::TestUploadSchemas::test_duration_too_long PASSED [ 31%]
projects/punch-analytics/backend/tests/test_upload.py::TestUploadSchemas::test_duration_at_min_limit PASSED [ 36%]
projects/punch-analytics/backend/tests/test_upload.py::TestUploadSchemas::test_duration_at_max_limit PASSED [ 40%]
projects/punch-analytics/backend/tests/test_upload.py::TestUploadSchemas::test_unsupported_format PASSED [ 45%]
projects/punch-analytics/backend/tests/test_upload.py::TestUploadService::test_initiate_upload_creates_session PASSED [ 50%]
projects/punch-analytics/backend/tests/test_upload.py::TestUploadService::test_upload_chunk_records_progress PASSED [ 54%]
projects/punch-analytics/backend/tests/test_upload.py::TestUploadService::test_duplicate_chunk_returns_409 PASSED [ 59%]
projects/punch-analytics/backend/tests/test_upload.py::TestUploadService::test_complete_upload_creates_video PASSED [ 63%]
projects/punch-analytics/backend/tests/test_upload.py::TestUploadService::test_cancel_upload_discards_chunks PASSED [ 68%]
projects/punch-analytics/backend/tests/test_upload.py::TestUploadRouter::test_initiate_upload_requires_auth PASSED [ 72%]
projects/punch-analytics/backend/tests/test_upload.py::TestUploadRouter::test_initiate_upload_validates_size PASSED [ 77%]
projects/punch-analytics/backend/tests/test_upload.py::TestUploadRouter::test_initiate_upload_validates_duration PASSED [ 81%]
projects/punch-analytics/backend/tests/test_upload.py::TestUploadRouter::test_initiate_upload_validates_format PASSED [ 86%]
projects/punch-analytics/backend/tests/test_upload.py::TestUploadRouter::test_cancel_upload_success PASSED [ 90%]
projects/punch-analytics/backend/tests/test_upload.py::TestResumableUpload::test_get_upload_status_returns_progress PASSED [ 95%]
projects/punch-analytics/backend/tests/test_upload.py::TestResumableUpload::test_get_received_chunks_for_resume PASSED [100%]

=============================== warnings summary ===============================
tests/test_upload.py::TestUploadRouter::test_initiate_upload_validates_size
tests/test_upload.py::TestUploadRouter::test_initiate_upload_validates_duration
tests/test_upload.py::TestUploadRouter::test_initiate_upload_validates_format
  /private/tmp/test-venv/lib/python3.13/site-packages/_pytest/python.py:166: DeprecationWarning: 'HTTP_422_UNPROCESSABLE_ENTITY' is deprecated. Use 'HTTP_422_UNPROCESSABLE_CONTENT' instead.
    result = testfunction(**testargs)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
======================== 22 passed, 3 warnings in 0.35s ========================
